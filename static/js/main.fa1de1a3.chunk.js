(this["webpackJsonpmemory-game"]=this["webpackJsonpmemory-game"]||[]).push([[0],{11:function(e,t,n){e.exports=n(18)},16:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(9),i=n.n(l),o=n(1),s=n(2),c=n(4),m=n(3),u=n(5),d=r.a.memo((function(){return r.a.createElement("div",null,r.a.createElement("h1",{className:"text-center text-primary py-3"},r.a.createElement("b",null,"React Memory Game")))})),h=n(10),g=n(7),v=n(6),p=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.logoPath,a=t.logoID,l=t.isHidden,i=t.cellIndex,o=l?"./logo/question-block.svg":n;return r.a.createElement("div",{className:"board-cell",onClick:function(){return e.props.handleCellClick(a,i,l)}},r.a.createElement("img",{src:o,alt:"missing"}))}}]),t}(r.a.PureComponent),E=[{id:1,link:"./logo/angular.svg",is_hidden:!0},{id:2,link:"./logo/go.svg",is_hidden:!0},{id:3,link:"./logo/c-sharp.svg",is_hidden:!0},{id:4,link:"./logo/grunt.svg",is_hidden:!0},{id:5,link:"./logo/java.svg",is_hidden:!0},{id:6,link:"./logo/js.svg",is_hidden:!0},{id:7,link:"./logo/kotlin.svg",is_hidden:!0},{id:8,link:"./logo/npm.svg",is_hidden:!0},{id:9,link:"./logo/php.svg",is_hidden:!0},{id:10,link:"./logo/python.svg",is_hidden:!0},{id:11,link:"./logo/reactjs.svg",is_hidden:!0},{id:12,link:"./logo/ruby.svg",is_hidden:!0},{id:13,link:"./logo/swift.svg",is_hidden:!0},{id:14,link:"./logo/ts.svg",is_hidden:!0},{id:15,link:"./logo/vuejs.svg",is_hidden:!0}];function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var b=function(e){function t(e){var n;Object(o.a)(this,t),(n=Object(c.a)(this,Object(m.a)(t).call(this,e))).shuffleArray=function(e){return Object(g.a)(e).sort((function(){return.5-Math.random()}))},n.getRandomLogosFromResources=function(){var e=n.state.NUMBER_OF_NEEDED_IMG,t=n.shuffleArray(E);return t.length=e,Object(g.a)(t)},n.addIndexForElements=function(e){return e.map((function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){Object(h.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{index:t})}))},n.duplicateArrayElements=function(e){return e.concat(e)},n.createRandomPairsFromChosenLogos=function(){var e=n.getRandomLogosFromResources(),t=n.duplicateArrayElements(e),a=n.addIndexForElements(t);return n.shuffleArray(a)},n.handleClick=function(e,t,a){if(-1!==t&&!1!==a){console.log("id:",e+", index:"+t);var r=n.state,l=r.randomPairs,i=r.lastLogoID,o=r.lastCellIndex,s=r.click,c=r.remain;l[t].is_hidden=!1,null!==i?i===e?(console.log("found"),n.setState({lastLogoID:null,lastCellIndex:null,remain:c-2},(function(){c=n.state.remain,n.props.gameStatus({click:s,remain:c})}))):setTimeout(function(){l[o].is_hidden=!0,l[t].is_hidden=!0,this.setState({lastLogoID:null,lastCellIndex:null})}.bind(Object(v.a)(n)),500):n.setState({lastLogoID:e,lastCellIndex:t}),n.setState({randomPairs:l,click:s+1},(function(){2===n.state.click&&n.props.startTimer()}));var m={click:s,remain:c};n.props.gameStatus(m)}};var a=~~(Math.pow(e.boardSize,2)/2);return n.state={NUMBER_OF_NEEDED_IMG:a,randomPairs:[],lastLogoID:null,lastCellIndex:null,isOver:!1,click:1,remain:2*a},n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"UNSAFE_componentWillMount",value:function(){this.setState({randomPairs:this.createRandomPairsFromChosenLogos()})}},{key:"componentDidUpdate",value:function(){var e=this.state,t=e.remain;e.isOver||0!==t||(this.setState({isOver:!0}),this.props.onGameOver(!0),console.log("GAME OVER !"))}},{key:"render",value:function(){var e=this,t=this.state.NUMBER_OF_NEEDED_IMG,n=this.state.randomPairs,a=[];return n.forEach((function(n,l){l===t&&a.push(r.a.createElement(p,{handleCellClick:e.handleClick,logoPath:"./logo/star.svg",logoID:-1,isHidden:!1,cellIndex:-1,key:-1})),a.push(r.a.createElement(p,{handleCellClick:e.handleClick,logoPath:n.link,logoID:n.id,isHidden:n.is_hidden,cellIndex:l,key:l}))})),r.a.createElement("div",{className:"game-board"},a)}}]),t}(r.a.PureComponent),k=r.a.memo((function(e){var t=e.time;return r.a.createElement("div",{className:"clock text-center text-success"},t)})),O=r.a.memo((function(e){var t=e.level,n=e.boardSize,a=e.score,l=e.click,i=e.remain;return r.a.createElement("div",{className:"info"},r.a.createElement("table",{className:"info--table"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Level:"),r.a.createElement("td",null,t)),r.a.createElement("tr",null,r.a.createElement("th",null,"Size:"),r.a.createElement("td",null,n," x ",n)),r.a.createElement("tr",null,r.a.createElement("th",null,"Score:"),r.a.createElement("td",null,a)),r.a.createElement("tr",null,r.a.createElement("th",null,"Click:"),r.a.createElement("td",null,l)),r.a.createElement("tr",null,r.a.createElement("th",null,"Remain:"),r.a.createElement("td",null,i)))))})),y=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.click,n=e.remain,a=e.time;return r.a.createElement("div",{className:"game-menu"},r.a.createElement("div",{className:"game-menu--top"},r.a.createElement(k,{time:a})),r.a.createElement("div",{className:"game-menu--bottom"},r.a.createElement(O,{level:"medium",boardSize:this.props.boardSize,score:this.props.score,click:t,remain:n})))}}]),t}(r.a.PureComponent),j=function(e){var t=e.click,n=e.time,a=e.score,l=e.handleRestartGame;return r.a.createElement("div",{className:"game-over shadow"},r.a.createElement("div",{className:"header"},"You win !"),r.a.createElement("div",{className:"body"},r.a.createElement("div",null,"Time: ",r.a.createElement("b",null,n),"s \xa0Click: ",r.a.createElement("b",null,t)),r.a.createElement("div",null,"Total score: ",r.a.createElement("b",null,a))),r.a.createElement("button",{className:"btn btn-lg btn-block btn-success",onClick:l},"Play again"))},S=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={boardSize:5,time:0,click:0,remain:24,isOver:!1,timer:null,score:0},n.passGameStatusToMenu=function(e){n.setState({click:e.click,remain:e.remain})},n.handleGameOver=function(e){n.stopTimer(),n.setState({isOver:!0})},n.setTime=function(){n.setState({time:n.state.time+1})},n.formatTime=function(){var e=n.state.time,t=n.padTime(e%60),a=parseInt(e/60);return"".concat(a,":").concat(t)},n.padTime=function(e){var t=e+"";return t.length<2?"0"+t:t},n.startTimer=function(){console.log("Timer started");var e=setInterval(n.setTime,1e3);n.setState({timer:e})},n.stopTimer=function(e){n.setState({timer:clearInterval(n.state.timer)})},n.handleRestartGame=function(){console.log("Game restarted"),window.location.reload()},n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.boardSize,n=e.click,a=e.remain,l=e.time,i=this.formatTime(),o=parseInt(1e3*n/l)||0;return r.a.createElement("div",{className:"container"},r.a.createElement(d,null),r.a.createElement("div",{className:"game"},r.a.createElement(b,{boardSize:t,gameStatus:this.passGameStatusToMenu,startTimer:this.startTimer,onGameOver:this.handleGameOver}),r.a.createElement(y,{boardSize:t,click:n,remain:a,time:i,score:o}),this.state.isOver?r.a.createElement(j,{time:l,click:n,score:o,handleRestartGame:this.handleRestartGame}):null))}}]),t}(r.a.PureComponent);n(16),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(17);i.a.render(r.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[11,1,2]]]);
//# sourceMappingURL=main.fa1de1a3.chunk.js.map